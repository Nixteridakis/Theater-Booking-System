{"version":3,"sources":["shop-services.js"],"names":[],"mappings":";;AAAA;;;;AACA;;;;AACA","file":"shop-services.js","sourcesContent":["import test from 'ava'\nimport request from 'supertest'\nimport app from '../app'\n/*\ntest('See list of shop items', async t =>{\n    const createChocolate = {name: 'Chocolate', price: 8}\n\n    const creation = await request(app)\n    .post('/item')\n    .send(createChocolate)\n\n    const res = await request(app).get('/shop')\n\n    t.is(res.status, 200)\n    t.true(Array.isArray(res.body),'Body is array')\n    t.true(res.body.length > 0)\n})\n\n\ntest('Create new Item', async t =>{\n    const createChocolate = {name: 'Chocolate', price: 8}\n\n    const res = await request(app)\n    .post('/item')\n    .send(createChocolate)\n\n    t.is(res.status, 200)\n    t.is(res.body.name, createChocolate.name)\n    t.is(res.body.price, createChocolate.price)\n})\n\ntest('Fetch a shop Item', async t =>{\n    const createChocolate = {name: 'Chocolate', price: 8}\n\n    const res = await request(app)\n    .post('/item')\n    .send(createChocolate)\n\n    const fetchRes = await request(app).get(\n        `/item/${res.body._id}`\n        )\n\n    const chocolateFetched = fetchRes.body\n\n    t.is(fetchRes.status, 200)\n    t.deepEqual(res.body,chocolateFetched)\n})\n\ntest('Delete an Item', async t =>{\n    const createChocolate = {name: 'Chocolate', price: 8}\n\n    const createdChocolate = await request(app)\n    .post('/item')\n    .send(createChocolate)\n\n    const deleteChocolate = await request(app)\n    .delete(`/item/${createdChocolate.body._id}`)\n\n    t.is(deleteChocolate.status, 200)\n\n    const fetch = await request(app).get(`/item/${createdChocolate.body._id}/json`)\n\n    t.is(fetch.status, 404);\n\n})\n*/"]}